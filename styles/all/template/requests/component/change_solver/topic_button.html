<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
<script>
  const changeSolver = async () => {
    const username = $('input[name="solver-username"]').val();
    const url = "/snahp/request-manager/change-solver/topic/{TOPIC_ID}/solver-username/" + username;
    const resp = await fetch(url)
    if (resp.ok) {
      location.reload();
    } else {
      alert('Could not change solver. Probably wrong username.')
    }
  }
</script>
<a href="#change-solver-modal" rel="modal:open" title="Change Solver (Moderation)" class="button button-icon-only">
  <i class="icon fa-check-square fa-fw" style="color:#A00" aria-hidden="true"></i><span class="sr-only">Mark Solved</span>
</a>
<div id="change-solver-modal" class="twbs modal" style="background: #666; color: white; font-size: 1.3em; margin: 0; padding: 0;">
  <div class="card" style="width: 100%;">
    <div class="card-body">
      <h5 class="card-title">Change Request Solver</h5>
      <div class="form">
        <div>
          <div class="form-group mb-2">
            <label for="solver-username" class="sr-only">New Solver Username</label>
            <input type="text" class="form-control" id="solver-username" name="solver-username" placeholder="New Solver Username">
          </div>
          <button onclick="changeSolver()" type="submit" class="btn btn-primary mb-2 pull-right">Change Solver</button>
        </div>
      </div>
    </div>
  </div>
</div>
